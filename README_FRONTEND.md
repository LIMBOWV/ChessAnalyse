# å‰ç«¯æ¥å£ä½¿ç”¨è¯´æ˜

## ğŸ¨ å‰ç«¯ç•Œé¢

é¡¹ç›®å·²ç»é…ç½®äº†å®Œæ•´çš„å‰ç«¯ç•Œé¢ï¼Œä½äºï¼š
- **ä¸»ç•Œé¢**: `src/main/resources/static/index.html`
- **æµ‹è¯•é¡µé¢**: `test-api.html`ï¼ˆé¡¹ç›®æ ¹ç›®å½•ï¼‰

## ğŸš€ å¯åŠ¨é¡¹ç›®

1. **å¯åŠ¨åç«¯æœåŠ¡**
```bash
./mvnw spring-boot:run
```

2. **è®¿é—®å‰ç«¯ç•Œé¢**
æ‰“å¼€æµè§ˆå™¨è®¿é—®ï¼š
- ä¸»ç•Œé¢ï¼šhttp://localhost:9090/
- APIæµ‹è¯•ï¼šhttp://localhost:9090/test-api.html

## ğŸ“¡ API æ¥å£åˆ—è¡¨

### 1. ä¸Šä¼  PGN æ£‹è°±
```
POST /api/pgn/upload?userId=1
Content-Type: text/plain
Body: PGNæ–‡æœ¬å†…å®¹
```

**å“åº”ç¤ºä¾‹**:
```json
{
  "gameId": 1,
  "message": "PGN ä¸Šä¼ æˆåŠŸï¼Œå¼‚æ­¥åˆ†æå·²å¯åŠ¨",
  "status": "PENDING"
}
```

### 2. è·å–ç”¨æˆ·æ£‹å±€åˆ—è¡¨
```
GET /api/pgn/games?userId=1
```

**å“åº”ç¤ºä¾‹**:
```json
[
  {
    "id": 1,
    "event": "Test Game",
    "whiteName": "Player1",
    "blackName": "Player2",
    "gameDate": "2024.01.01",
    "result": "1-0",
    "analysisStatus": "COMPLETED",
    "moves": "e4 e5 Nf3 Nc6..."
  }
]
```

### 3. è·å–æ£‹å±€è¯¦æƒ…
```
GET /api/pgn/game/{gameId}
```

### 4. è·å–æ£‹å±€åˆ†æç»“æœ
```
GET /api/pgn/analysis/{gameId}
```

**å“åº”ç¤ºä¾‹**:
```json
[
  {
    "moveNumber": 1,
    "moveSan": "e4",
    "score": 0.3,
    "bestMove": "e4",
    "moveClassification": "BOOK"
  },
  {
    "moveNumber": 2,
    "moveSan": "e5",
    "score": -0.2,
    "bestMove": "e5",
    "moveClassification": "GOOD"
  }
]
```

### 5. è·å–ç‰¹å®šæ­¥æ•°åˆ†æ
```
GET /api/pgn/analysis/{gameId}/{moveNumber}
```

## ğŸ¯ å‰ç«¯åŠŸèƒ½ç‰¹æ€§

### âœ¨ å·²å®ç°çš„åŠŸèƒ½

1. **PGNä¸Šä¼ **
   - æ”¯æŒæ–‡ä»¶æ‹–æ”¾ä¸Šä¼ 
   - æ”¯æŒæ–‡ä»¶é€‰æ‹©ä¸Šä¼ 
   - æ”¯æŒç›´æ¥ç²˜è´´ PGN æ–‡æœ¬

2. **æ£‹å±€ç®¡ç†**
   - æ˜¾ç¤ºæ‰€æœ‰æ£‹å±€åˆ—è¡¨
   - æ˜¾ç¤ºåˆ†æçŠ¶æ€ï¼ˆç­‰å¾…ä¸­/åˆ†æä¸­/å·²å®Œæˆ/å¤±è´¥ï¼‰
   - ç‚¹å‡»é€‰æ‹©æ£‹å±€è¿›è¡Œå¤ç›˜

3. **äº¤äº’å¼æ£‹ç›˜**
   - ä½¿ç”¨ chessboard.js æ˜¾ç¤ºæ£‹ç›˜
   - æ”¯æŒå‰è¿›/åé€€/è·³è½¬åˆ°å¼€å§‹/ç»“æŸ
   - ç‚¹å‡»èµ°æ³•åˆ—è¡¨ç›´æ¥è·³è½¬åˆ°å¯¹åº”å±€é¢

4. **èµ°æ³•åˆ†æ**
   - æ˜¾ç¤ºæ¯æ­¥æ£‹çš„è¯„åˆ†
   - æ˜¾ç¤ºèµ°æ³•åˆ†ç±»å›¾æ ‡ï¼š
     - âœ¨ å¦™æ‰‹ (Brilliant)
     - ğŸ‘ å¾ˆå¥½ (Great)
     - ğŸ˜Š å¥½æ£‹ (Good)
     - ğŸ“– å¼€å±€ç†è®º (Book)
     - ğŸ¤” ä¸å‡†ç¡® (Inaccuracy)
     - ğŸ˜ å¤±è¯¯ (Mistake)
     - ğŸ˜± å¤§æ¼ç€ (Blunder)
     - ğŸ’” é”™å¤±èƒœåˆ© (Missed Win)
   - æ˜¾ç¤º AI æ¨èçš„æœ€ä½³èµ°æ³•

5. **è¯„ä¼°æ›²çº¿**
   - ä½¿ç”¨ ECharts ç»˜åˆ¶å±€åŠ¿è¯„ä¼°æ›²çº¿
   - å®æ—¶æ˜¾ç¤ºæ•´å±€çš„è¯„åˆ†å˜åŒ–

## ğŸ¨ ç•Œé¢è®¾è®¡

- **å“åº”å¼è®¾è®¡**: é€‚é…æ¡Œé¢ç«¯å’Œç§»åŠ¨ç«¯
- **ç°ä»£åŒ– UI**: æ¸å˜è‰²èƒŒæ™¯ã€åœ†è§’å¡ç‰‡ã€æµç•…åŠ¨ç”»
- **ç›´è§‚äº¤äº’**: æ‹–æ”¾ä¸Šä¼ ã€ç‚¹å‡»é€‰æ‹©ã€æ‚¬åœé«˜äº®

## ğŸ› ï¸ æŠ€æœ¯æ ˆ

| æŠ€æœ¯ | ç”¨é€” |
|------|------|
| Vue 3 | å‰ç«¯æ¡†æ¶ï¼ˆCDNç‰ˆæœ¬ï¼‰ |
| chessboard.js | æ£‹ç›˜å¯è§†åŒ– |
| chess.js | å›½é™…è±¡æ£‹é€»è¾‘å¼•æ“ |
| ECharts | æ•°æ®å¯è§†åŒ–ï¼ˆè¯„ä¼°æ›²çº¿ï¼‰ |
| jQuery | chessboard.js ä¾èµ– |

## ğŸ“ ç¤ºä¾‹ PGN

```pgn
[Event "Test Game"]
[Site "Online"]
[Date "2024.01.01"]
[White "Player1"]
[Black "Player2"]
[Result "1-0"]

1. e4 e5 2. Nf3 Nc6 3. Bc4 Bc5 4. b4 Bxb4 5. c3 Ba5 6. d4 exd4 7. O-O d3 1-0
```

## ğŸ”§ é…ç½®è¯´æ˜

å¦‚æœéœ€è¦ä¿®æ”¹ API åœ°å€ï¼Œåœ¨ `index.html` ä¸­æ‰¾åˆ°ï¼š
```javascript
API_BASE: '/api/pgn'
```

ä¿®æ”¹ä¸ºä½ çš„ API åœ°å€ï¼Œä¾‹å¦‚ï¼š
```javascript
API_BASE: 'http://your-server:9090/api/pgn'
```

## ğŸ› æ•…éšœæ’æŸ¥

### 1. æ— æ³•è®¿é—®å‰ç«¯é¡µé¢
- ç¡®è®¤åç«¯æœåŠ¡å·²å¯åŠ¨
- æ£€æŸ¥æ˜¯å¦èƒ½è®¿é—® http://localhost:9090
- æŸ¥çœ‹æµè§ˆå™¨æ§åˆ¶å°æ˜¯å¦æœ‰é”™è¯¯

### 2. API è¯·æ±‚å¤±è´¥
- æ£€æŸ¥åç«¯æ—¥å¿—
- ç¡®è®¤æ•°æ®åº“å·²å¯åŠ¨ï¼ˆMySQLï¼‰
- ç¡®è®¤ application.properties é…ç½®æ­£ç¡®

### 3. æ£‹ç›˜ä¸æ˜¾ç¤º
- æ£€æŸ¥æµè§ˆå™¨æ§åˆ¶å°æ˜¯å¦æœ‰ CDN åŠ è½½é”™è¯¯
- ç¡®è®¤ç½‘ç»œè¿æ¥æ­£å¸¸

### 4. åˆ†æçŠ¶æ€ä¸€ç›´æ˜¯ PENDING
- æ£€æŸ¥ Stockfish å¼•æ“æ˜¯å¦æ­£ç¡®å®‰è£…
- æŸ¥çœ‹åç«¯æ—¥å¿—çš„å¼‚æ­¥ä»»åŠ¡æ‰§è¡Œæƒ…å†µ
- ç¡®è®¤ `stockfish.engine.path` é…ç½®æ­£ç¡®

## ğŸ“š ç›¸å…³æ–‡æ¡£

- [Chessboard.js æ–‡æ¡£](https://chessboardjs.com/)
- [Chess.js æ–‡æ¡£](https://github.com/jhlywa/chess.js)
- [ECharts æ–‡æ¡£](https://echarts.apache.org/zh/index.html)
- [Vue 3 æ–‡æ¡£](https://cn.vuejs.org/)

